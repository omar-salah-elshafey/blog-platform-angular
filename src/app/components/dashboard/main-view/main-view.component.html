<div class="content">
  <div class="head">
    <h1>{{ "DASHBOARD.WELCOME" | translate }} {{ userName }}</h1>
    <p>{{ "DASHBOARD.SUBTITLE" | translate }}</p>
  </div>

  <section class="quick-stats">
    <div class="stat-card">
      <h3>{{ "DASHBOARD.STATS.USERS" | translate }}</h3>
      <p>{{ usersCount }}</p>
    </div>
    <div class="stat-card">
      <h3>{{ "DASHBOARD.STATS.POSTS" | translate }}</h3>
      <p>{{ postsCount }}</p>
    </div>
    <div class="stat-card">
      <h3>{{ "DASHBOARD.STATS.COMMENTS" | translate }}</h3>
      <p>{{ commentsCount }}</p>
    </div>
  </section>

  <!-- Users Section -->
  <section class="dashboard-section">
    <h3>{{ "DASHBOARD.SECTIONS.USERS" | translate }}</h3>
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>
            {{ "DASHBOARD.SECTIONS.TABLE_HEADERS.FULL_NAME" | translate }}
          </th>
          <th>
            {{ "DASHBOARD.SECTIONS.TABLE_HEADERS.USERNAME" | translate }}
          </th>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.EMAIL" | translate }}</th>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.ROLE" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.firstName }} {{ user.lastName }}</td>
          <td>
            <a [routerLink]="['/user-profile', user.userName]">
              <div>
                <span dir="ltr">&#64;{{ user.userName }}</span>
              </div>
            </a>
          </td>
          <td>{{ user.email }}</td>
          <td>
            {{ "USER_PROFILE.ROLES." + user.role.toUpperCase() | translate }}
          </td>
        </tr>
      </tbody>
    </table>
    <div class="centered-link">
      <a [routerLink]="['/dashboard/manage-users']">
        {{
          "DASHBOARD.SECTIONS.MANAGE"
            | translate : { type: ("DASHBOARD.SECTIONS.USERS" | translate) }
        }}
        &gt;
      </a>
    </div>
  </section>

  <!-- Posts Section -->
  <section class="dashboard-section">
    <h3>{{ "DASHBOARD.SECTIONS.POSTS" | translate }}</h3>
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.CONTENT" | translate }}</th>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.WRITER" | translate }}</th>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.DATE" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let post of posts">
          <td>
            <a [routerLink]="['/post', post.id]">
              <div>
                <span *ngIf="post.content.length > 10"
                  >{{ post.content | slice : 0 : 10 }}...</span
                >
                <span *ngIf="post.content.length <= 10">{{
                  post.content
                }}</span>
              </div>
            </a>
          </td>
          <td>
            <a [routerLink]="['/user-profile', post.authorName]">
              <div>
                <span dir="ltr">&#64;{{ post.authorName }}</span>
              </div>
            </a>
          </td>
          <td>{{ post.createdDate | date : "short" }}</td>
        </tr>
      </tbody>
    </table>
    <div class="centered-link">
      <a [routerLink]="['/dashboard/manage-posts']">
        {{
          "DASHBOARD.SECTIONS.MANAGE"
            | translate : { type: ("DASHBOARD.SECTIONS.POSTS" | translate) }
        }}
        &gt;</a
      >
    </div>
  </section>

  <!-- Comments Section -->
  <section class="dashboard-section">
    <h3>{{ "DASHBOARD.SECTIONS.COMMENTS" | translate }}</h3>
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.CONTENT" | translate }}</th>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.WRITER" | translate }}</th>
          <th>{{ "DASHBOARD.SECTIONS.TABLE_HEADERS.DATE" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let comment of comments">
          <td>
            <a [routerLink]="['/post', comment.postId]">
              <div>
                <span *ngIf="comment.content.length > 10"
                  >{{ comment.content | slice : 0 : 10 }}...</span
                >
                <span *ngIf="comment.content.length <= 10">{{
                  comment.content
                }}</span>
              </div>
            </a>
          </td>
          <td>
            <a [routerLink]="['/user-profile', comment.userName]">
              <div>
                <span dir="ltr">&#64;{{ comment.userName }}</span>
              </div>
            </a>
          </td>
          <td>{{ comment.createdDate | date : "short" }}</td>
        </tr>
      </tbody>
    </table>
    <div class="centered-link">
      <a [routerLink]="['/dashboard/manage-comments']">
        {{
          "DASHBOARD.SECTIONS.MANAGE"
            | translate : { type: ("DASHBOARD.SECTIONS.COMMENTS" | translate) }
        }}
        &gt;</a
      >
    </div>
  </section>
</div>
