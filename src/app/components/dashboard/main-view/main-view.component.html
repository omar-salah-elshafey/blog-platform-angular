<div class="content">
  <div class="head">
    <h1>Welcome, {{ userName }}</h1>
    <p>Here you can manage the platform.</p>
  </div>

  <section class="quick-stats">
    <div class="stat-card">
      <h3>Total Users</h3>
      <p>{{ usersCount }}</p>
    </div>
    <div class="stat-card">
      <h3>Total Posts</h3>
      <p>{{ postsCount }}</p>
    </div>
    <div class="stat-card">
      <h3>Total Comments</h3>
      <p>{{ commentsCount }}</p>
    </div>
  </section>

  <!-- Users Section -->
  <section class="dashboard-section">
    <h3>Users</h3>
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>Full Name</th>
          <th>Username</th>
          <th>Email</th>
          <th>Role</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.firstName }} {{ user.lastName }}</td>
          <td>
            <a
              [routerLink]="['/user-profile']"
              [queryParams]="{ username: user.userName }"
            >
              &#64;{{ user.userName }}
            </a>
          </td>
          <td>{{ user.email }}</td>
          <td>{{ user.role }}</td>
        </tr>
      </tbody>
    </table>
    <div class="centered-link">
      <a [routerLink]="['/dashboard/manage-users']">Manage Users &gt;</a>
    </div>
  </section>

  <!-- Posts Section -->
  <section class="dashboard-section">
    <h3>Posts</h3>
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Author</th>
          <th>Content</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let post of posts">
          <td>
            <a [routerLink]="['/post']" [queryParams]="{ postId: post.id }">
              {{ post.title }}
            </a>
          </td>
          <td>
            <a
              [routerLink]="['/user-profile']"
              [queryParams]="{ username: post.authorName }"
            >
              &#64;{{ post.authorName }}
            </a>
          </td>
          <td>{{ post.content | slice : 0 : 30 }}...</td>
          <td>{{ post.createdDate | date : "yyyy-MM-dd HH:mm" }}</td>
        </tr>
      </tbody>
    </table>
    <div class="centered-link">
      <a [routerLink]="['/dashboard/manage-posts']">Manage Posts &gt;</a>
    </div>
  </section>

  <!-- Comments Section -->
  <section class="dashboard-section">
    <h3>Comments</h3>
    <table class="dashboard-table">
      <thead>
        <tr>
          <th>Author</th>
          <th>Content</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let comment of comments">
          <td>
            <a
              [routerLink]="['/user-profile']"
              [queryParams]="{ username: comment.userName }"
            >
              &#64;{{ comment.userName }}
            </a>
          </td>
          <td>
            <a
              [routerLink]="['/post']"
              [queryParams]="{ postId: comment.postId }"
            >
              {{ comment.content }}
            </a>
          </td>
          <td>{{ comment.createdDate | date : "yyyy-MM-dd HH:mm" }}</td>
        </tr>
      </tbody>
    </table>
    <div class="centered-link">
      <a [routerLink]="['/dashboard/manage-comments']">Manage Comments &gt;</a>
    </div>
  </section>
</div>
